<section id='registro'>
	<div class="card">
		<div class="card-body">
			<form id='regis' action='modelo/PHP/regis.php' method='POST'>
				<div class="container">
					<div class="form-group">
						<label>Número de cuenta:</label>
						<input id='num_cta' type='text' class="form-control" name='num_cta' pattern='^(31)[6789][0-9]{6}' required/>
						<div></div>
					</div>
					<div class="form-group">
						<label>Nombre de usuario:</label>
						<input id='user' type='text' class="form-control" name='user' pattern='[A-Za-z\d]{6,20}$' required/>
						<div></div>
						<small class="text-muted">
							Debe comenzar con mayúsculas.
						</small>
					</div>
					<div class="form-group">
						<label>Nombre:</label>
						<input id='nom' type='text' class="form-control" name='nom' pattern='^[A-Z][a-záéíóú]+' required/>
						<div></div>
						<small class="text-muted">
							Debe comenzar con mayúsculas.
						</small>
					</div>
					<div class="form-group">
						<label>Apellido paterno:</label>
						<input id='ape_pat' type='text' class="form-control" name='ape_pat' pattern='^[A-Z][a-záéíóú]+' required/>
						<div></div>
						<small class="text-muted">
							Debe comenzar con mayúsculas.
						</small>
					</div>
					<div class="form-group">
						<label>Apellido materno:</label>
						<input id='ape_mat' type='text' class="form-control" name='ape_mat' pattern='^[A-Z][a-záéíóú]+' required/>
						<div></div>
						<small class="text-muted">
							Debe comenzar con mayúsculas.
						</small>
					</div>
					<div class="custom-file">
						<input type="file" name="imagen" accept='image/png' class="custom-file-input" id="validatedCustomFile">
						<label class="custom-file-label" for="validatedCustomFile">Elige una imagen</label>
					</div>
					<div class="form-group">
						<label >Contraseña :</label>
						<input class="form-control mx-sm-3" type='password' class="form-control" name='contra' class='contrasena' id='pass1' required/>
						<div></div>
						<small class="text-muted">
							De 8-20 caracteres, al menos una mayúscula, una minúscula, un número y un caracter especial.
						</small>
					</div>
					<div class="form-group">
						<label >Confirma contraseña :</label>
						<input class="form-control mx-sm-3" type='password' class="form-control" name='contra2' class='contrasena' id='pass2' required/>
						<div></div>
					</div>
					<script>
							$("#pass2").on("change",function(){
									if($("#pass1").val() == $("#pass2").val()){
								$("#msj").html("<input class='btn btn-success' class='btn btn-primary btn-l' type='submit'>");
							}
									else{
								$("#msj").html("Las contraseñas no coinciden");
							}
							});

							$(document).ready(()=>{
								var regex = [/^(31)[6789][0-9]{6}/, /^[A-Z][a-zA-Záéíóú\s]+/, /^[A-Z][a-zA-Záéíóú\s]+/, /^[A-Z][a-zA-Záéíóú\s]+/, /[A-Za-z\d]{6,20}$/];
								var elements = ["num_cta", "nom", "ape_pat", "ape_mat", "user"];
								$("#regis").change((event)=>{
									var dato = event.target.id;
									var aux = elements.indexOf(dato);
									if (aux >= 0){
										var reg = new RegExp (regex[aux]);
										// console.log(reg);
										if (reg.test(event.target.value) == true){
											document.getElementById(dato).className = "form-control is-valid";
											document.getElementById(dato).nextSibling.innerHTML="Eso funciona para mi!"
										}
										else{
											document.getElementById(dato).className = "form-control is-invalid";
											document.getElementById(dato).nextSibling.innerHTML="No es correcto";
										}
									}
								});
							});
					</script>
					<div id='msj'>
					</div>
				</div>
			</form>
		</div>
	</div>
</section>
<script src='controlador/JS/revisa.js'></script>
